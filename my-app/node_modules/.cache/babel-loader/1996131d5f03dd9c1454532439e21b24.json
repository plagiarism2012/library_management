{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ContextHandlerImpl = void 0;\n\nconst context_items_1 = require(\"../context-items\");\n\nconst bail_1 = require(\"../context-items/bail\");\n\nclass ContextHandlerImpl {\n  constructor(builder, chain) {\n    this.builder = builder;\n    this.chain = chain;\n  }\n\n  bail() {\n    this.builder.addItem(new bail_1.Bail());\n    return this.chain;\n  }\n\n  if(condition) {\n    if ('run' in condition) {\n      this.builder.addItem(new context_items_1.ChainCondition(condition));\n    } else if (typeof condition === 'function') {\n      this.builder.addItem(new context_items_1.CustomCondition(condition));\n    } else {\n      throw new Error('express-validator: condition is not a validation chain nor a function');\n    }\n\n    return this.chain;\n  }\n\n  optional() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n    if (typeof options === 'boolean') {\n      this.builder.setOptional(options ? {\n        checkFalsy: false,\n        nullable: false\n      } : false);\n    } else {\n      this.builder.setOptional({\n        checkFalsy: !!options.checkFalsy,\n        nullable: !!options.nullable\n      });\n    }\n\n    return this.chain;\n  }\n\n}\n\nexports.ContextHandlerImpl = ContextHandlerImpl;","map":{"version":3,"names":["Object","defineProperty","exports","value","ContextHandlerImpl","context_items_1","require","bail_1","constructor","builder","chain","bail","addItem","Bail","if","condition","ChainCondition","CustomCondition","Error","optional","options","setOptional","checkFalsy","nullable"],"sources":["E:/library/library_management/node_modules/express-validator/src/chain/context-handler-impl.js"],"sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ContextHandlerImpl = void 0;\r\nconst context_items_1 = require(\"../context-items\");\r\nconst bail_1 = require(\"../context-items/bail\");\r\nclass ContextHandlerImpl {\r\n    constructor(builder, chain) {\r\n        this.builder = builder;\r\n        this.chain = chain;\r\n    }\r\n    bail() {\r\n        this.builder.addItem(new bail_1.Bail());\r\n        return this.chain;\r\n    }\r\n    if(condition) {\r\n        if ('run' in condition) {\r\n            this.builder.addItem(new context_items_1.ChainCondition(condition));\r\n        }\r\n        else if (typeof condition === 'function') {\r\n            this.builder.addItem(new context_items_1.CustomCondition(condition));\r\n        }\r\n        else {\r\n            throw new Error('express-validator: condition is not a validation chain nor a function');\r\n        }\r\n        return this.chain;\r\n    }\r\n    optional(options = true) {\r\n        if (typeof options === 'boolean') {\r\n            this.builder.setOptional(options ? { checkFalsy: false, nullable: false } : false);\r\n        }\r\n        else {\r\n            this.builder.setOptional({\r\n                checkFalsy: !!options.checkFalsy,\r\n                nullable: !!options.nullable,\r\n            });\r\n        }\r\n        return this.chain;\r\n    }\r\n}\r\nexports.ContextHandlerImpl = ContextHandlerImpl;\r\n"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,kBAAR,GAA6B,KAAK,CAAlC;;AACA,MAAMC,eAAe,GAAGC,OAAO,CAAC,kBAAD,CAA/B;;AACA,MAAMC,MAAM,GAAGD,OAAO,CAAC,uBAAD,CAAtB;;AACA,MAAMF,kBAAN,CAAyB;EACrBI,WAAW,CAACC,OAAD,EAAUC,KAAV,EAAiB;IACxB,KAAKD,OAAL,GAAeA,OAAf;IACA,KAAKC,KAAL,GAAaA,KAAb;EACH;;EACDC,IAAI,GAAG;IACH,KAAKF,OAAL,CAAaG,OAAb,CAAqB,IAAIL,MAAM,CAACM,IAAX,EAArB;IACA,OAAO,KAAKH,KAAZ;EACH;;EACDI,EAAE,CAACC,SAAD,EAAY;IACV,IAAI,SAASA,SAAb,EAAwB;MACpB,KAAKN,OAAL,CAAaG,OAAb,CAAqB,IAAIP,eAAe,CAACW,cAApB,CAAmCD,SAAnC,CAArB;IACH,CAFD,MAGK,IAAI,OAAOA,SAAP,KAAqB,UAAzB,EAAqC;MACtC,KAAKN,OAAL,CAAaG,OAAb,CAAqB,IAAIP,eAAe,CAACY,eAApB,CAAoCF,SAApC,CAArB;IACH,CAFI,MAGA;MACD,MAAM,IAAIG,KAAJ,CAAU,uEAAV,CAAN;IACH;;IACD,OAAO,KAAKR,KAAZ;EACH;;EACDS,QAAQ,GAAiB;IAAA,IAAhBC,OAAgB,uEAAN,IAAM;;IACrB,IAAI,OAAOA,OAAP,KAAmB,SAAvB,EAAkC;MAC9B,KAAKX,OAAL,CAAaY,WAAb,CAAyBD,OAAO,GAAG;QAAEE,UAAU,EAAE,KAAd;QAAqBC,QAAQ,EAAE;MAA/B,CAAH,GAA4C,KAA5E;IACH,CAFD,MAGK;MACD,KAAKd,OAAL,CAAaY,WAAb,CAAyB;QACrBC,UAAU,EAAE,CAAC,CAACF,OAAO,CAACE,UADD;QAErBC,QAAQ,EAAE,CAAC,CAACH,OAAO,CAACG;MAFC,CAAzB;IAIH;;IACD,OAAO,KAAKb,KAAZ;EACH;;AAhCoB;;AAkCzBR,OAAO,CAACE,kBAAR,GAA6BA,kBAA7B"},"metadata":{},"sourceType":"script"}