{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.sanitize = void 0;\n\nconst chain_1 = require(\"../chain\");\n\nconst utils_1 = require(\"../utils\");\n\nconst context_builder_1 = require(\"../context-builder\");\n\nlet hasNotified = false;\n\nfunction sanitize() {\n  let fields = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  let locations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  if (!hasNotified) {\n    hasNotified = true;\n    console.warn('express-validator: sanitize(), sanitizeBody() and other sanitization-only middlewares ' + 'have been deprecated.\\nPlease use check(), body() and others instead, which must offer ' + 'the same API, and more.');\n  }\n\n  const builder = new context_builder_1.ContextBuilder().setFields(Array.isArray(fields) ? fields : [fields]).setLocations(locations);\n  const runner = new chain_1.ContextRunnerImpl(builder);\n\n  const middleware = async (req, _res, next) => {\n    try {\n      await runner.run(req);\n      next();\n    } catch (e) {\n      next(e);\n    }\n  };\n\n  return Object.assign(middleware, utils_1.bindAll(runner), utils_1.bindAll(new chain_1.SanitizersImpl(builder, middleware)), {\n    builder\n  });\n}\n\nexports.sanitize = sanitize;","map":{"version":3,"names":["Object","defineProperty","exports","value","sanitize","chain_1","require","utils_1","context_builder_1","hasNotified","fields","locations","console","warn","builder","ContextBuilder","setFields","Array","isArray","setLocations","runner","ContextRunnerImpl","middleware","req","_res","next","run","e","assign","bindAll","SanitizersImpl"],"sources":["E:/library/library_management/node_modules/express-validator/src/middlewares/sanitize.js"],"sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.sanitize = void 0;\r\nconst chain_1 = require(\"../chain\");\r\nconst utils_1 = require(\"../utils\");\r\nconst context_builder_1 = require(\"../context-builder\");\r\nlet hasNotified = false;\r\nfunction sanitize(fields = '', locations = []) {\r\n    if (!hasNotified) {\r\n        hasNotified = true;\r\n        console.warn('express-validator: sanitize(), sanitizeBody() and other sanitization-only middlewares ' +\r\n            'have been deprecated.\\nPlease use check(), body() and others instead, which must offer ' +\r\n            'the same API, and more.');\r\n    }\r\n    const builder = new context_builder_1.ContextBuilder()\r\n        .setFields(Array.isArray(fields) ? fields : [fields])\r\n        .setLocations(locations);\r\n    const runner = new chain_1.ContextRunnerImpl(builder);\r\n    const middleware = async (req, _res, next) => {\r\n        try {\r\n            await runner.run(req);\r\n            next();\r\n        }\r\n        catch (e) {\r\n            next(e);\r\n        }\r\n    };\r\n    return Object.assign(middleware, utils_1.bindAll(runner), utils_1.bindAll(new chain_1.SanitizersImpl(builder, middleware)), { builder });\r\n}\r\nexports.sanitize = sanitize;\r\n"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,QAAR,GAAmB,KAAK,CAAxB;;AACA,MAAMC,OAAO,GAAGC,OAAO,CAAC,UAAD,CAAvB;;AACA,MAAMC,OAAO,GAAGD,OAAO,CAAC,UAAD,CAAvB;;AACA,MAAME,iBAAiB,GAAGF,OAAO,CAAC,oBAAD,CAAjC;;AACA,IAAIG,WAAW,GAAG,KAAlB;;AACA,SAASL,QAAT,GAA+C;EAAA,IAA7BM,MAA6B,uEAApB,EAAoB;EAAA,IAAhBC,SAAgB,uEAAJ,EAAI;;EAC3C,IAAI,CAACF,WAAL,EAAkB;IACdA,WAAW,GAAG,IAAd;IACAG,OAAO,CAACC,IAAR,CAAa,2FACT,yFADS,GAET,yBAFJ;EAGH;;EACD,MAAMC,OAAO,GAAG,IAAIN,iBAAiB,CAACO,cAAtB,GACXC,SADW,CACDC,KAAK,CAACC,OAAN,CAAcR,MAAd,IAAwBA,MAAxB,GAAiC,CAACA,MAAD,CADhC,EAEXS,YAFW,CAEER,SAFF,CAAhB;EAGA,MAAMS,MAAM,GAAG,IAAIf,OAAO,CAACgB,iBAAZ,CAA8BP,OAA9B,CAAf;;EACA,MAAMQ,UAAU,GAAG,OAAOC,GAAP,EAAYC,IAAZ,EAAkBC,IAAlB,KAA2B;IAC1C,IAAI;MACA,MAAML,MAAM,CAACM,GAAP,CAAWH,GAAX,CAAN;MACAE,IAAI;IACP,CAHD,CAIA,OAAOE,CAAP,EAAU;MACNF,IAAI,CAACE,CAAD,CAAJ;IACH;EACJ,CARD;;EASA,OAAO3B,MAAM,CAAC4B,MAAP,CAAcN,UAAd,EAA0Bf,OAAO,CAACsB,OAAR,CAAgBT,MAAhB,CAA1B,EAAmDb,OAAO,CAACsB,OAAR,CAAgB,IAAIxB,OAAO,CAACyB,cAAZ,CAA2BhB,OAA3B,EAAoCQ,UAApC,CAAhB,CAAnD,EAAqH;IAAER;EAAF,CAArH,CAAP;AACH;;AACDZ,OAAO,CAACE,QAAR,GAAmBA,QAAnB"},"metadata":{},"sourceType":"script"}